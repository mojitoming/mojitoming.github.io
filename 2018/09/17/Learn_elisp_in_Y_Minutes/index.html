<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>【转载】X分钟速成Y | Mojitoming～</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="转载这篇文章，真心觉得好，通俗易懂～原文地址：https:&#x2F;&#x2F;learnxinyminutes.com&#x2F;docs&#x2F;zh-cn&#x2F;elisp-cn&#x2F;  123456789101112131415161718192021222324;; 15分钟学会Emacs Lisp (v0.2a);;（作者：bzg，https:&#x2F;&#x2F;github.com&#x2F;bzg ;;  译者：lich">
<meta property="og:type" content="article">
<meta property="og:title" content="【转载】X分钟速成Y">
<meta property="og:url" content="http://yoursite.com/2018/09/17/Learn_elisp_in_Y_Minutes/index.html">
<meta property="og:site_name" content="Mojitoming～">
<meta property="og:description" content="转载这篇文章，真心觉得好，通俗易懂～原文地址：https:&#x2F;&#x2F;learnxinyminutes.com&#x2F;docs&#x2F;zh-cn&#x2F;elisp-cn&#x2F;  123456789101112131415161718192021222324;; 15分钟学会Emacs Lisp (v0.2a);;（作者：bzg，https:&#x2F;&#x2F;github.com&#x2F;bzg ;;  译者：lich">
<meta property="og:locale">
<meta property="article:published_time" content="2018-09-17T08:42:47.000Z">
<meta property="article:modified_time" content="2018-09-17T09:01:31.382Z">
<meta property="article:author" content="Mojitoming">
<meta property="article:tag" content="emacs">
<meta property="article:tag" content="elisp">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Mojitoming～" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Mojitoming～</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Learn_elisp_in_Y_Minutes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/09/17/Learn_elisp_in_Y_Minutes/" class="article-date">
  <time datetime="2018-09-17T08:42:47.000Z" itemprop="datePublished">2018-09-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Emacs/">Emacs</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      【转载】X分钟速成Y
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>转载这篇文章，真心觉得好，通俗易懂～<br>原文地址：<a target="_blank" rel="noopener" href="https://learnxinyminutes.com/docs/zh-cn/elisp-cn/">https://learnxinyminutes.com/docs/zh-cn/elisp-cn/</a></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">;; 15分钟学会Emacs Lisp (v0.2a)</span><br><span class="line">;;（作者：bzg，https:&#x2F;&#x2F;github.com&#x2F;bzg </span><br><span class="line">;;  译者：lichenbo，http:&#x2F;&#x2F;douban.com&#x2F;people&#x2F;lichenbo）</span><br><span class="line">;;</span><br><span class="line">;; 请先阅读Peter Norvig的一篇好文:</span><br><span class="line">;; http:&#x2F;&#x2F;norvig.com&#x2F;21-days.html</span><br><span class="line">;; （译者注：中文版请见http:&#x2F;&#x2F;blog.youxu.info&#x2F;21-days&#x2F;）</span><br><span class="line">;;</span><br><span class="line">;; 之后安装GNU Emacs 24.3:</span><br><span class="line">;;</span><br><span class="line">;; Debian: apt-get install emacs (视具体发行版而定)</span><br><span class="line">;; MacOSX: http:&#x2F;&#x2F;emacsformacosx.com&#x2F;emacs-builds&#x2F;Emacs-24.3-universal-10.6.8.dmg</span><br><span class="line">;; Windows: http:&#x2F;&#x2F;ftp.gnu.org&#x2F;gnu&#x2F;windows&#x2F;emacs&#x2F;emacs-24.3-bin-i386.zip</span><br><span class="line">;;</span><br><span class="line">;; 更多信息可以在这里找到:</span><br><span class="line">;; http:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;emacs&#x2F;#Obtaining</span><br><span class="line"></span><br><span class="line">;; 很重要的警告:</span><br><span class="line">;;</span><br><span class="line">;; 按照这个教程来学习并不会对你的电脑有任何损坏</span><br><span class="line">;; 除非你自己在学习的过程中愤怒地把它砸了</span><br><span class="line">;; 如果出现了这种情况，我不会承担任何责任</span><br><span class="line">;;</span><br><span class="line">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br></pre></td><td class="code"><pre><span class="line">;; </span><br><span class="line">;; 打开emacs</span><br><span class="line">;;</span><br><span class="line">;; 按&#39;q&#39;消除欢迎界面</span><br><span class="line">;;</span><br><span class="line">;; 现在请注意窗口底部的那一个灰色长条</span><br><span class="line">;;</span><br><span class="line">;; &quot;*scratch*&quot; 是你现在编辑界面的名字。</span><br><span class="line">;; 这个编辑界面叫做一个&quot;buffer&quot;。</span><br><span class="line">;;</span><br><span class="line">;; 每当你打开Emacs时，都会默认打开这个scratch buffer</span><br><span class="line">;; 此时你并没有在编辑任何文件，而是在编辑一个buffer</span><br><span class="line">;; 之后你可以将这个buffer保存到一个文件中。</span><br><span class="line">;; </span><br><span class="line">;; 之后的&quot;Lisp interaction&quot; 则是表明我们可以用的某组命令</span><br><span class="line">;; </span><br><span class="line">;; Emacs在每个buffer中都有一组内置的命令</span><br><span class="line">;; 而当你激活某种特定的模式时，就可以使用相应的命令</span><br><span class="line">;; 这里我们使用&#96;lisp-interaction-mode&#39;，</span><br><span class="line">;; 这样我们就可以使用内置的Emacs Lisp（以下简称Elisp）命令了。</span><br><span class="line"></span><br><span class="line">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span><br><span class="line">;;</span><br><span class="line">;; 分号是注释开始的标志</span><br><span class="line">;;</span><br><span class="line">;; Elisp 是由符号表达式构成的 (即&quot;s-表达式&quot;或&quot;s式&quot;):</span><br><span class="line">(+ 2 2)</span><br><span class="line"></span><br><span class="line">;; 这个s式的意思是 &quot;对2进行加2操作&quot;.</span><br><span class="line"></span><br><span class="line">;; s式周围有括号，而且也可以嵌套:</span><br><span class="line">(+ 2 (+ 1 1))</span><br><span class="line"></span><br><span class="line">;; 一个s式可以包含原子符号或者其他s式</span><br><span class="line">;; 在上面的例子中，1和2是原子符号</span><br><span class="line">;; (+ 2 (+ 1 1)) 和 (+ 1 1) 是s式.</span><br><span class="line"></span><br><span class="line">;; 在 &#96;lisp-interaction-mode&#39; 中你可以计算s式.</span><br><span class="line">;; 把光标移到闭括号后，之后按下ctrl+j（以后简写为&#39;C-j&#39;）</span><br><span class="line"></span><br><span class="line">(+ 3 (+ 1 2))</span><br><span class="line">;;           ^ 光标放到这里</span><br><span class="line">;; 按下&#96;C-j&#39; 就会输出 6</span><br><span class="line"></span><br><span class="line">;; &#96;C-j&#39; 会在buffer中插入当前运算的结果</span><br><span class="line"></span><br><span class="line">;; 而&#96;C-xC-e&#39; 则会在emacs最底部显示结果，也就是被称作&quot;minibuffer&quot;的区域</span><br><span class="line">;; 为了避免把我们的buffer填满无用的结果，我们以后会一直用&#96;C-xC-e&#39;</span><br><span class="line"></span><br><span class="line">;; &#96;setq&#39; 可以将一个值赋给一个变量</span><br><span class="line">(setq my-name &quot;Bastien&quot;)</span><br><span class="line">;; &#96;C-xC-e&#39; 输出 &quot;Bastien&quot; (在 mini-buffer 中显示)</span><br><span class="line"></span><br><span class="line">;; &#96;insert&#39; 会在光标处插入字符串:</span><br><span class="line">(insert &quot;Hello!&quot;)</span><br><span class="line">;; &#96;C-xC-e&#39; 输出 &quot;Hello!&quot;</span><br><span class="line"></span><br><span class="line">;; 在这里我们只传给了insert一个参数&quot;Hello!&quot;, 但是</span><br><span class="line">;; 我们也可以传给它更多的参数，比如2个：</span><br><span class="line"></span><br><span class="line">(insert &quot;Hello&quot; &quot; world!&quot;)</span><br><span class="line">;; &#96;C-xC-e&#39; 输出 &quot;Hello world!&quot;</span><br><span class="line"></span><br><span class="line">;; 你也可以用变量名来代替字符串</span><br><span class="line">(insert &quot;Hello, I am &quot; my-name)</span><br><span class="line">;; &#96;C-xC-e&#39; 输出 &quot;Hello, I am Bastien&quot;</span><br><span class="line"></span><br><span class="line">;; 你可以把s式嵌入函数中</span><br><span class="line">(defun hello () (insert &quot;Hello, I am &quot; my-name))</span><br><span class="line">;; &#96;C-xC-e&#39; 输出 hello</span><br><span class="line"></span><br><span class="line">;; 现在执行这个函数</span><br><span class="line">(hello)</span><br><span class="line">;; &#96;C-xC-e&#39; 输出 Hello, I am Bastien</span><br><span class="line"></span><br><span class="line">;; 函数中空括号的意思是我们不需要接受任何参数</span><br><span class="line">;; 但是我们不能一直总是用my-name这个变量</span><br><span class="line">;; 所以我们现在使我们的函数接受一个叫做&quot;name&quot;的参数 </span><br><span class="line"></span><br><span class="line">(defun hello (name) (insert &quot;Hello &quot; name))</span><br><span class="line">;; &#96;C-xC-e&#39; 输出 hello</span><br><span class="line"></span><br><span class="line">;; 现在我们调用这个函数，并且将&quot;you&quot;作为参数传递</span><br><span class="line"></span><br><span class="line">(hello &quot;you&quot;)</span><br><span class="line">;; &#96;C-xC-e&#39; 输出 &quot;Hello you&quot;</span><br><span class="line"></span><br><span class="line">;; 成功！</span><br><span class="line"></span><br><span class="line">;; 现在我们可以休息一下</span><br><span class="line"></span><br><span class="line">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span><br><span class="line">;;</span><br><span class="line">;; 下面我们在新的窗口中新建一个名为 &quot;*test*&quot; 的buffer:</span><br><span class="line"></span><br><span class="line">(switch-to-buffer-other-window &quot;*test*&quot;)</span><br><span class="line">;; &#96;C-xC-e&#39; 这时屏幕上会显示两个窗口，而光标此时位于*test* buffer内</span><br><span class="line"></span><br><span class="line">;; 用鼠标单击上面的buffer就会使光标移回。</span><br><span class="line">;; 或者你可以使用 &#96;C-xo&#39; 使得光标跳到另一个窗口中</span><br><span class="line"></span><br><span class="line">;; 你可以用 &#96;progn&#39;命令将s式结合起来:</span><br><span class="line">(progn</span><br><span class="line">  (switch-to-buffer-other-window &quot;*test*&quot;)</span><br><span class="line">  (hello &quot;you&quot;))</span><br><span class="line">;; &#96;C-xC-e&#39; 此时屏幕分为两个窗口，并且在*test* buffer中显示&quot;Hello you&quot;</span><br><span class="line"></span><br><span class="line">;; 现在为了简洁，我们需要在每个s式后面都使用&#96;C-xC-e&#39;来执行，后面就不再说明了</span><br><span class="line"></span><br><span class="line">;; 记得可以用过鼠标或者&#96;C-xo&#39;回到*scratch*这个buffer。</span><br><span class="line"></span><br><span class="line">;; 清除当前buffer也是常用操作之一：</span><br><span class="line">(progn</span><br><span class="line">  (switch-to-buffer-other-window &quot;*test*&quot;)</span><br><span class="line">  (erase-buffer)</span><br><span class="line">  (hello &quot;there&quot;))</span><br><span class="line"></span><br><span class="line">;; 也可以回到其他的窗口中</span><br><span class="line">(progn</span><br><span class="line">  (switch-to-buffer-other-window &quot;*test*&quot;)</span><br><span class="line">  (erase-buffer)</span><br><span class="line">  (hello &quot;you&quot;)</span><br><span class="line">  (other-window 1))</span><br><span class="line"></span><br><span class="line">;; 你可以用 &#96;let&#39; 将一个值和一个局部变量绑定:</span><br><span class="line">(let ((local-name &quot;you&quot;))</span><br><span class="line">  (switch-to-buffer-other-window &quot;*test*&quot;)</span><br><span class="line">  (erase-buffer)</span><br><span class="line">  (hello local-name)</span><br><span class="line">  (other-window 1))</span><br><span class="line"></span><br><span class="line">;; 这里我们就不需要使用 &#96;progn&#39; 了， 因为 &#96;let&#39; 也可以将很多s式组合起来。</span><br><span class="line"></span><br><span class="line">;; 格式化字符串的方法：</span><br><span class="line">(format &quot;Hello %s!\n&quot; &quot;visitor&quot;)</span><br><span class="line"></span><br><span class="line">;; %s 是字符串占位符，这里被&quot;visitor&quot;替代.</span><br><span class="line">;; \n 是换行符。</span><br><span class="line"></span><br><span class="line">;; 现在我们用格式化的方法再重写一下我们的函数:</span><br><span class="line">(defun hello (name)</span><br><span class="line">  (insert (format &quot;Hello %s!\n&quot; name)))</span><br><span class="line"></span><br><span class="line">(hello &quot;you&quot;)</span><br><span class="line"></span><br><span class="line">;; 我们再用&#96;let&#39;新建另一个函数:</span><br><span class="line">(defun greeting (name)</span><br><span class="line">  (let ((your-name &quot;Bastien&quot;))</span><br><span class="line">    (insert (format &quot;Hello %s!\n\nI am %s.&quot;</span><br><span class="line">                    name       ; the argument of the function</span><br><span class="line">                    your-name  ; the let-bound variable &quot;Bastien&quot;</span><br><span class="line">                    ))))</span><br><span class="line"></span><br><span class="line">;; 之后执行:</span><br><span class="line">(greeting &quot;you&quot;)</span><br><span class="line"></span><br><span class="line">;; 有些函数可以和用户交互:</span><br><span class="line">(read-from-minibuffer &quot;Enter your name: &quot;)</span><br><span class="line"></span><br><span class="line">;; 这个函数会返回在执行时用户输入的信息</span><br><span class="line"></span><br><span class="line">;; 现在我们让&#96;greeting&#39;函数显示你的名字:</span><br><span class="line">(defun greeting (from-name)</span><br><span class="line">  (let ((your-name (read-from-minibuffer &quot;Enter your name: &quot;)))</span><br><span class="line">    (insert (format &quot;Hello!\n\nI am %s and you are %s.&quot;</span><br><span class="line">                    from-name ; the argument of the function</span><br><span class="line">                    your-name ; the let-bound var, entered at prompt</span><br><span class="line">                    ))))</span><br><span class="line"></span><br><span class="line">(greeting &quot;Bastien&quot;)</span><br><span class="line"></span><br><span class="line">;; 我们让结果在另一个窗口中显示:</span><br><span class="line">(defun greeting (from-name)</span><br><span class="line">  (let ((your-name (read-from-minibuffer &quot;Enter your name: &quot;)))</span><br><span class="line">    (switch-to-buffer-other-window &quot;*test*&quot;)</span><br><span class="line">    (erase-buffer)</span><br><span class="line">    (insert (format &quot;Hello %s!\n\nI am %s.&quot; your-name from-name))</span><br><span class="line">    (other-window 1)))</span><br><span class="line"></span><br><span class="line">;; 测试一下：</span><br><span class="line">(greeting &quot;Bastien&quot;)</span><br><span class="line"></span><br><span class="line">;; 第二节结束，休息一下吧。</span><br><span class="line"></span><br><span class="line">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span><br><span class="line">;;</span><br><span class="line">;; 我们将一些名字存到列表中：</span><br><span class="line">(setq list-of-names &#39;(&quot;Sarah&quot; &quot;Chloe&quot; &quot;Mathilde&quot;))</span><br><span class="line"></span><br><span class="line">;; 用 &#96;car&#39;来取得第一个名字：</span><br><span class="line">(car list-of-names)</span><br><span class="line"></span><br><span class="line">;; 用 &#96;cdr&#39;取得剩下的名字:</span><br><span class="line">(cdr list-of-names)</span><br><span class="line"></span><br><span class="line">;; 用 &#96;push&#39;把名字添加到列表的开头:</span><br><span class="line">(push &quot;Stephanie&quot; list-of-names)</span><br><span class="line"></span><br><span class="line">;; 注意: &#96;car&#39; 和 &#96;cdr&#39; 并不修改列表本身, 但是 &#96;push&#39; 却会对列表本身进行操作.</span><br><span class="line">;; 这个区别是很重要的: 有些函数没有任何副作用（比如&#96;car&#39;）</span><br><span class="line">;; 但还有一些却是有的 (比如 &#96;push&#39;).</span><br><span class="line"></span><br><span class="line">;; 我们来对&#96;list-of-names&#39;列表中的每一个元素都使用hello函数:</span><br><span class="line">(mapcar &#39;hello list-of-names)</span><br><span class="line"></span><br><span class="line">;; 将 &#96;greeting&#39; 改进，使的我们能够对&#96;list-of-names&#39;中的所有名字执行:</span><br><span class="line">(defun greeting ()</span><br><span class="line">    (switch-to-buffer-other-window &quot;*test*&quot;)</span><br><span class="line">    (erase-buffer)</span><br><span class="line">    (mapcar &#39;hello list-of-names)</span><br><span class="line">    (other-window 1))</span><br><span class="line"></span><br><span class="line">(greeting)</span><br><span class="line"></span><br><span class="line">;; 记得我们之前定义的 &#96;hello&#39; 函数吗？ 这个函数接受一个参数，名字。</span><br><span class="line">;; &#96;mapcar&#39; 调用 &#96;hello&#39;, 并将&#96;list-of-names&#39;作为参数先后传给&#96;hello&#39;</span><br><span class="line"></span><br><span class="line">;; 现在我们对显示的buffer中的内容进行一些更改：</span><br><span class="line"></span><br><span class="line">(defun replace-hello-by-bonjour ()</span><br><span class="line">    (switch-to-buffer-other-window &quot;*test*&quot;)</span><br><span class="line">    (goto-char (point-min))</span><br><span class="line">    (while (search-forward &quot;Hello&quot;)</span><br><span class="line">      (replace-match &quot;Bonjour&quot;))</span><br><span class="line">    (other-window 1))</span><br><span class="line"></span><br><span class="line">;; (goto-char (point-min)) 将光标移到buffer的开始</span><br><span class="line">;; (search-forward &quot;Hello&quot;) 查找字符串&quot;Hello&quot;</span><br><span class="line">;; (while x y) 当x返回某个值时执行y这个s式</span><br><span class="line">;; 当x返回&#96;nil&#39; (空), 退出循环</span><br><span class="line"></span><br><span class="line">(replace-hello-by-bonjour)</span><br><span class="line"></span><br><span class="line">;; 你会看到所有在*test* buffer中出现的&quot;Hello&quot;字样都被换成了&quot;Bonjour&quot;</span><br><span class="line"></span><br><span class="line">;; 你也会得到以下错误提示: &quot;Search failed: Hello&quot;.</span><br><span class="line">;;</span><br><span class="line">;; 如果要避免这个错误, 你需要告诉 &#96;search-forward&#39; 这个命令是否在</span><br><span class="line">;; buffer的某个地方停止查找, 并且在什么都没找到时是否应该不给出错误提示</span><br><span class="line"></span><br><span class="line">;; (search-forward &quot;Hello&quot; nil t) 可以达到这个要求:</span><br><span class="line"></span><br><span class="line">;; &#96;nil&#39; 参数的意思是 : 查找并不限于某个范围内</span><br><span class="line">;; &#96;t&#39; 参数的意思是: 当什么都没找到时，不给出错误提示</span><br><span class="line"></span><br><span class="line">;; 在下面的函数中，我们用到了s式，并且不给出任何错误提示:</span><br><span class="line"></span><br><span class="line">(defun hello-to-bonjour ()</span><br><span class="line">    (switch-to-buffer-other-window &quot;*test*&quot;)</span><br><span class="line">    (erase-buffer)</span><br><span class="line">    ;; 为&#96;list-of-names&#39;中的每个名字调用hello</span><br><span class="line">    (mapcar &#39;hello list-of-names)</span><br><span class="line">    (goto-char (point-min))</span><br><span class="line">    ;; 将&quot;Hello&quot; 替换为&quot;Bonjour&quot;</span><br><span class="line">    (while (search-forward &quot;Hello&quot; nil t)</span><br><span class="line">      (replace-match &quot;Bonjour&quot;))</span><br><span class="line">    (other-window 1))</span><br><span class="line"></span><br><span class="line">(hello-to-bonjour)</span><br><span class="line"></span><br><span class="line">;; 给这些名字加粗:</span><br><span class="line"></span><br><span class="line">(defun boldify-names ()</span><br><span class="line">    (switch-to-buffer-other-window &quot;*test*&quot;)</span><br><span class="line">    (goto-char (point-min))</span><br><span class="line">    (while (re-search-forward &quot;Bonjour \\(.+\\)!&quot; nil t)</span><br><span class="line">      (add-text-properties (match-beginning 1)</span><br><span class="line">                           (match-end 1)</span><br><span class="line">                           (list &#39;face &#39;bold)))</span><br><span class="line">    (other-window 1))</span><br><span class="line"></span><br><span class="line">;; 这个函数使用了 &#96;re-search-forward&#39;:</span><br><span class="line">;; 和查找一个字符串不同，你用这个命令可以查找一个模式，即正则表达式</span><br><span class="line"></span><br><span class="line">;; 正则表达式 &quot;Bonjour \\(.+\\)!&quot; 的意思是:</span><br><span class="line">;; 字符串 &quot;Bonjour &quot;, 之后跟着</span><br><span class="line">;; 一组           |  \\( ... \\) 结构</span><br><span class="line">;; 任意字符       |  . 的含义</span><br><span class="line">;; 有可能重复的   |  + 的含义</span><br><span class="line">;; 之后跟着 &quot;!&quot; 这个字符串</span><br><span class="line"></span><br><span class="line">;; 准备好了？试试看。</span><br><span class="line"></span><br><span class="line">(boldify-names)</span><br><span class="line"></span><br><span class="line">;; &#96;add-text-properties&#39; 可以添加文字属性, 比如文字样式</span><br><span class="line"></span><br><span class="line">;; 好的，我们成功了！</span><br><span class="line"></span><br><span class="line">;; 如果你想对一个变量或者函数有更多的了解：</span><br><span class="line">;;</span><br><span class="line">;; C-h v 变量 回车</span><br><span class="line">;; C-h f 函数 回车</span><br><span class="line">;;</span><br><span class="line">;; 阅读Emacs Lisp官方文档:</span><br><span class="line">;;</span><br><span class="line">;; C-h i m elisp 回车</span><br><span class="line">;;</span><br><span class="line">;; 在线阅读Emacs Lisp文档:</span><br><span class="line">;; https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;emacs&#x2F;manual&#x2F;html_node&#x2F;eintr&#x2F;index.html</span><br><span class="line"></span><br><span class="line">;; 感谢以下同学的建议和反馈:</span><br><span class="line">;; - Wes Hardaker</span><br><span class="line">;; - notbob</span><br><span class="line">;; - Kevin Montuori</span><br><span class="line">;; - Arne Babenhauserheide</span><br><span class="line">;; - Alan Schmitt</span><br><span class="line">;; - spacegoing</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/09/17/Learn_elisp_in_Y_Minutes/" data-id="ckdif4l5g00088419e5g4g85j" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/elisp/" rel="tag">elisp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/emacs/" rel="tag">emacs</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/02/01/fix-busuanzi-issue/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          不蒜子问题总结
        
      </div>
    </a>
  
  
    <a href="/2018/09/13/iPhone-Xs-Xs-Max-Xr-price/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">iPhone Xs/Xs Max/Xr 价格对比</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Apple/">Apple</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Emacs/">Emacs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/WEB/">WEB</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/skills/">skills</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%B6%A3%E9%97%BB/">趣闻</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%A1%B9%E7%9B%AE%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2/">项目自动化部署</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/" rel="tag">Jenkins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/busuanzi/" rel="tag">busuanzi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elisp/" rel="tag">elisp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/emacs/" rel="tag">emacs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iphone/" rel="tag">iphone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iphone-xs/" rel="tag">iphone xs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nexT/" rel="tag">nexT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shortcut/" rel="tag">shortcut</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/teacher-s-day/" rel="tag">teacher's day</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%94%AE%E4%BB%B7/" rel="tag">售价</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/" rel="tag">快捷键</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%99%E5%B8%88%E8%8A%82/" rel="tag">教师节</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B6%A3%E9%97%BB/" rel="tag">趣闻</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Jenkins/" style="font-size: 10px;">Jenkins</a> <a href="/tags/busuanzi/" style="font-size: 10px;">busuanzi</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/elisp/" style="font-size: 10px;">elisp</a> <a href="/tags/emacs/" style="font-size: 20px;">emacs</a> <a href="/tags/iphone/" style="font-size: 10px;">iphone</a> <a href="/tags/iphone-xs/" style="font-size: 10px;">iphone xs</a> <a href="/tags/nexT/" style="font-size: 10px;">nexT</a> <a href="/tags/shortcut/" style="font-size: 10px;">shortcut</a> <a href="/tags/teacher-s-day/" style="font-size: 10px;">teacher's day</a> <a href="/tags/%E5%94%AE%E4%BB%B7/" style="font-size: 10px;">售价</a> <a href="/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size: 10px;">快捷键</a> <a href="/tags/%E6%95%99%E5%B8%88%E8%8A%82/" style="font-size: 10px;">教师节</a> <a href="/tags/%E8%B6%A3%E9%97%BB/" style="font-size: 10px;">趣闻</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/08/06/CSS-%E7%A6%81%E6%AD%A2%E9%80%89%E4%B8%AD%E6%96%87%E6%9C%AC/">CSS 禁止选中文本</a>
          </li>
        
          <li>
            <a href="/2020/06/08/Automated-Deployment-of-Projects-by-Jenkins/">基于 Jenkins 的自动化部署方案</a>
          </li>
        
          <li>
            <a href="/2019/02/01/fix-busuanzi-issue/">不蒜子问题总结</a>
          </li>
        
          <li>
            <a href="/2018/09/17/Learn_elisp_in_Y_Minutes/">【转载】X分钟速成Y</a>
          </li>
        
          <li>
            <a href="/2018/09/13/iPhone-Xs-Xs-Max-Xr-price/">iPhone Xs/Xs Max/Xr 价格对比</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Mojitoming<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>